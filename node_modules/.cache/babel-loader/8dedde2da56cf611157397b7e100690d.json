{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Documents/React/bordeaux_p2_sept2019_SpotiWild/src/components/Game.js\";\nimport React from 'react';\nimport CountDown from './Game/CountDown';\nimport YouTube from 'react-youtube';\nimport Score from './Game/Score';\nimport SkipBtn from './Game/SkipBtn';\nimport Answer from './Game/Answer';\nimport ValidateBtn from './Game/ValidateBtn';\nimport './Game.css';\nimport Title from './Home/Title';\nimport { arrThemes } from '../data/Playlists';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      turn: 0,\n      theme: '',\n      class_parent: 'game-parent',\n      fakeDiv: 'fake-div',\n      numberCount: 'Go',\n      isPlaying: false,\n      classCount: 'default',\n      videoId: '',\n      opts: {\n        playerVars: {\n          autoplay: 1,\n          start: 0,\n          enablejsapi: 1,\n          origin: 'http://localhost:3000'\n        }\n      }\n    };\n    this.changeSong = this.changeSong.bind(this);\n    this._onPlay = this._onPlay.bind(this);\n  }\n\n  componentDidMount() {\n    setTimeout(() => this.setState({\n      class_parent: 'fullvh'\n    }), 100);\n    this.setState({\n      theme: this.props.match.params.theme\n    });\n  }\n\n  changeSong() {\n    if (this.state.numberCount === 'Go') {\n      this.setState({\n        turn: this.state.turn + 1\n      });\n      const _this$state = this.state,\n            theme = _this$state.theme,\n            turn = _this$state.turn;\n      let activeArr = arrThemes.filter(el => theme === Object.keys(el)[0]);\n      activeArr = activeArr[0];\n      activeArr = Object.values(activeArr)[0];\n      activeArr = activeArr[turn];\n      console.log(activeArr); // activeArr.map(child => console.log(child));\n\n      this.setState({\n        fakeDiv: 'fake-div-loading',\n        numberCount: 'Loading',\n        videoId: activeArr.url,\n        classCount: 'loading'\n      });\n    }\n  }\n\n  _onReady(event) {\n    // access to player in all event handlers via event.target\n    event.target.setVolume(100);\n  }\n\n  _onPlay() {\n    console.log('playing');\n    this.setState({\n      fakeDiv: 'fake-div-playing',\n      numberCount: 30,\n      isPlaying: true,\n      classCount: 'playing'\n    });\n    this.timerID = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID); // jsp vraiment mais apparemment faut le garder dans l'exemple de l'horloge que j'ai cannibalisé\n  }\n\n  tick() {\n    this.state.isPlaying // si le props startCount défini dans Game.js...\n    ? this.state.numberCount <= 1 || this.state.numberCount === 'cry' // true : si le state number est inférieur ou égal à 0...\n    ? this.setState({\n      numberCount: 'cry'\n    }) // true : ne pas toucher\n    : this.setState({\n      numberCount: this.state.numberCount - 1\n    }) // false : nombre - 1\n    : this.setState({\n      numberCount: this.state.numberCount\n    }); // false : ne pas toucher\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: this.state.class_parent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"fake-div-parent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: this.state.fakeDiv,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(CountDown, {\n      onClick: () => this.changeSong('ZHapXKq0yOY'),\n      className: this.state.classCount,\n      number: this.state.numberCount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"landscape-mode\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Answer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(SkipBtn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(ValidateBtn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      className: \"nick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Nickname\"), React.createElement(Score, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(YouTube, {\n      className: \"yt-hidden\",\n      videoId: this.state.videoId,\n      opts: this.state.opts,\n      onReady: this._onReady,\n      onPlay: this._onPlay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/Users/macbookpro/Documents/React/bordeaux_p2_sept2019_SpotiWild/src/components/Game.js"],"names":["React","CountDown","YouTube","Score","SkipBtn","Answer","ValidateBtn","Title","arrThemes","Game","Component","constructor","props","state","turn","theme","class_parent","fakeDiv","numberCount","isPlaying","classCount","videoId","opts","playerVars","autoplay","start","enablejsapi","origin","changeSong","bind","_onPlay","componentDidMount","setTimeout","setState","match","params","activeArr","filter","el","Object","keys","values","console","log","url","_onReady","event","target","setVolume","timerID","setInterval","tick","componentWillUnmount","clearInterval","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,SAASC,SAAT,QAA0B,mBAA1B;;AAEA,MAAMC,IAAN,SAAmBT,KAAK,CAACU,SAAzB,CAAmC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,CADK;AAEXC,MAAAA,KAAK,EAAE,EAFI;AAGXC,MAAAA,YAAY,EAAE,aAHH;AAIXC,MAAAA,OAAO,EAAE,UAJE;AAKXC,MAAAA,WAAW,EAAE,IALF;AAMXC,MAAAA,SAAS,EAAE,KANA;AAOXC,MAAAA,UAAU,EAAE,SAPD;AAQXC,MAAAA,OAAO,EAAE,EARE;AASXC,MAAAA,IAAI,EAAE;AACJC,QAAAA,UAAU,EAAE;AACVC,UAAAA,QAAQ,EAAE,CADA;AAEVC,UAAAA,KAAK,EAAE,CAFG;AAGVC,UAAAA,WAAW,EAAE,CAHH;AAIVC,UAAAA,MAAM,EAAE;AAJE;AADR;AATK,KAAb;AAkBA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,UAAU,CAAC,MAAM,KAAKC,QAAL,CAAc;AAAEjB,MAAAA,YAAY,EAAE;AAAhB,KAAd,CAAP,EAAkD,GAAlD,CAAV;AACA,SAAKiB,QAAL,CAAc;AAAElB,MAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWsB,KAAX,CAAiBC,MAAjB,CAAwBpB;AAAjC,KAAd;AACD;;AAEDa,EAAAA,UAAU,GAAG;AACX,QAAI,KAAKf,KAAL,CAAWK,WAAX,KAA2B,IAA/B,EAAqC;AACnC,WAAKe,QAAL,CAAc;AAAEnB,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAAX,GAAkB;AAA1B,OAAd;AADmC,0BAEX,KAAKD,KAFM;AAAA,YAE3BE,KAF2B,eAE3BA,KAF2B;AAAA,YAEpBD,IAFoB,eAEpBA,IAFoB;AAGnC,UAAIsB,SAAS,GAAG5B,SAAS,CAAC6B,MAAV,CAAiBC,EAAE,IAAIvB,KAAK,KAAKwB,MAAM,CAACC,IAAP,CAAYF,EAAZ,EAAgB,CAAhB,CAAjC,CAAhB;AACAF,MAAAA,SAAS,GAAGA,SAAS,CAAC,CAAD,CAArB;AACAA,MAAAA,SAAS,GAAGG,MAAM,CAACE,MAAP,CAAcL,SAAd,EAAyB,CAAzB,CAAZ;AACAA,MAAAA,SAAS,GAAGA,SAAS,CAACtB,IAAD,CAArB;AACA4B,MAAAA,OAAO,CAACC,GAAR,CAAYP,SAAZ,EAPmC,CAQnC;;AAEA,WAAKH,QAAL,CAAc;AACZhB,QAAAA,OAAO,EAAE,kBADG;AAEZC,QAAAA,WAAW,EAAE,SAFD;AAGZG,QAAAA,OAAO,EAAEe,SAAS,CAACQ,GAHP;AAIZxB,QAAAA,UAAU,EAAE;AAJA,OAAd;AAMD;AACF;;AAEDyB,EAAAA,QAAQ,CAACC,KAAD,EAAQ;AACd;AACAA,IAAAA,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuB,GAAvB;AACD;;AAEDlB,EAAAA,OAAO,GAAG;AACRY,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,SAAKV,QAAL,CAAc;AACZhB,MAAAA,OAAO,EAAE,kBADG;AAEZC,MAAAA,WAAW,EAAE,EAFD;AAGZC,MAAAA,SAAS,EAAE,IAHC;AAIZC,MAAAA,UAAU,EAAE;AAJA,KAAd;AAMA,SAAK6B,OAAL,GAAeC,WAAW,CAAC,MAAM,KAAKC,IAAL,EAAP,EAAoB,IAApB,CAA1B;AACD;;AAEDC,EAAAA,oBAAoB,GAAG;AACrBC,IAAAA,aAAa,CAAC,KAAKJ,OAAN,CAAb,CADqB,CACQ;AAC9B;;AAEDE,EAAAA,IAAI,GAAG;AACL,SAAKtC,KAAL,CAAWM,SAAX,CAAqB;AAArB,MACI,KAAKN,KAAL,CAAWK,WAAX,IAA0B,CAA1B,IAA+B,KAAKL,KAAL,CAAWK,WAAX,KAA2B,KAA1D,CAAgE;AAAhE,MACE,KAAKe,QAAL,CAAc;AACZf,MAAAA,WAAW,EAAE;AADD,KAAd,CADF,CAGK;AAHL,MAIE,KAAKe,QAAL,CAAc;AAAEf,MAAAA,WAAW,EAAE,KAAKL,KAAL,CAAWK,WAAX,GAAyB;AAAxC,KAAd,CALN,CAKiE;AALjE,MAMI,KAAKe,QAAL,CAAc;AAAEf,MAAAA,WAAW,EAAE,KAAKL,KAAL,CAAWK;AAA1B,KAAd,CANJ,CADK,CAOuD;AAC7D;;AAEDoC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAE,KAAKzC,KAAL,CAAWG,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAK,MAAA,SAAS,EAAE,KAAKH,KAAL,CAAWI,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,SAAD;AACE,MAAA,OAAO,EAAE,MAAM,KAAKW,UAAL,CAAgB,aAAhB,CADjB;AAEE,MAAA,SAAS,EAAE,KAAKf,KAAL,CAAWO,UAFxB;AAGE,MAAA,MAAM,EAAE,KAAKP,KAAL,CAAWK,WAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CAFF,EAWE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,CAXF,EAkBE;AAAG,MAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAlBF,EAmBE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBF,EAqBE,oBAAC,OAAD;AACE,MAAA,SAAS,EAAC,WADZ;AAEE,MAAA,OAAO,EAAE,KAAKL,KAAL,CAAWQ,OAFtB;AAGE,MAAA,IAAI,EAAE,KAAKR,KAAL,CAAWS,IAHnB;AAIE,MAAA,OAAO,EAAE,KAAKuB,QAJhB;AAKE,MAAA,MAAM,EAAE,KAAKf,OALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,CADF;AA+BD;;AAhHgC;;AAmHnC,eAAerB,IAAf","sourcesContent":["import React from 'react';\nimport CountDown from './Game/CountDown';\nimport YouTube from 'react-youtube';\nimport Score from './Game/Score';\nimport SkipBtn from './Game/SkipBtn';\nimport Answer from './Game/Answer';\nimport ValidateBtn from './Game/ValidateBtn';\nimport './Game.css';\nimport Title from './Home/Title';\nimport { arrThemes } from '../data/Playlists';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      turn: 0,\n      theme: '',\n      class_parent: 'game-parent',\n      fakeDiv: 'fake-div',\n      numberCount: 'Go',\n      isPlaying: false,\n      classCount: 'default',\n      videoId: '',\n      opts: {\n        playerVars: {\n          autoplay: 1,\n          start: 0,\n          enablejsapi: 1,\n          origin: 'http://localhost:3000'\n        }\n      }\n    };\n    this.changeSong = this.changeSong.bind(this);\n    this._onPlay = this._onPlay.bind(this);\n  }\n\n  componentDidMount() {\n    setTimeout(() => this.setState({ class_parent: 'fullvh' }), 100);\n    this.setState({ theme: this.props.match.params.theme });\n  }\n\n  changeSong() {\n    if (this.state.numberCount === 'Go') {\n      this.setState({ turn: this.state.turn + 1 });\n      const { theme, turn } = this.state;\n      let activeArr = arrThemes.filter(el => theme === Object.keys(el)[0]);\n      activeArr = activeArr[0];\n      activeArr = Object.values(activeArr)[0];\n      activeArr = activeArr[turn];\n      console.log(activeArr);\n      // activeArr.map(child => console.log(child));\n\n      this.setState({\n        fakeDiv: 'fake-div-loading',\n        numberCount: 'Loading',\n        videoId: activeArr.url,\n        classCount: 'loading'\n      });\n    }\n  }\n\n  _onReady(event) {\n    // access to player in all event handlers via event.target\n    event.target.setVolume(100);\n  }\n\n  _onPlay() {\n    console.log('playing');\n    this.setState({\n      fakeDiv: 'fake-div-playing',\n      numberCount: 30,\n      isPlaying: true,\n      classCount: 'playing'\n    });\n    this.timerID = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID); // jsp vraiment mais apparemment faut le garder dans l'exemple de l'horloge que j'ai cannibalisé\n  }\n\n  tick() {\n    this.state.isPlaying // si le props startCount défini dans Game.js...\n      ? this.state.numberCount <= 1 || this.state.numberCount === 'cry' // true : si le state number est inférieur ou égal à 0...\n        ? this.setState({\n            numberCount: 'cry'\n          }) // true : ne pas toucher\n        : this.setState({ numberCount: this.state.numberCount - 1 }) // false : nombre - 1\n      : this.setState({ numberCount: this.state.numberCount }); // false : ne pas toucher\n  }\n\n  render() {\n    return (\n      <div className={this.state.class_parent}>\n        <Title />\n        <div className=\"fake-div-parent\">\n          {/*fake divs importantes pour l'anim du loading*/}\n          <div className={this.state.fakeDiv}></div>\n          <CountDown\n            onClick={() => this.changeSong('ZHapXKq0yOY')}\n            className={this.state.classCount}\n            number={this.state.numberCount}\n          />\n        </div>\n        <div className=\"landscape-mode\">\n          <Answer />\n          <div className=\"row\">\n            <SkipBtn />\n            <ValidateBtn />\n          </div>\n        </div>\n        <p className=\"nick\">Nickname</p>\n        <Score />\n\n        <YouTube\n          className=\"yt-hidden\"\n          videoId={this.state.videoId}\n          opts={this.state.opts}\n          onReady={this._onReady}\n          onPlay={this._onPlay}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}