{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Documents/React/bordeaux_p2_sept2019_SpotiWild/src/components/Game.js\";\nimport React from 'react';\nimport CountDown from './Game/CountDown';\nimport YouTube from 'react-youtube';\nimport Score from './Game/Score';\nimport SkipBtn from './Game/SkipBtn';\nimport Answer from './Game/Answer';\nimport ValidateBtn from './Game/ValidateBtn';\nimport './Game.css';\nimport Title from './Home/Title';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      class_parent: 'game-parent',\n      fakeDiv: 'fake-div',\n      numberCount: 'Go',\n      isPlaying: false,\n      classCount: 'default',\n      videoId: '',\n      opts: {\n        playerVars: {\n          autoplay: 1,\n          start: 0,\n          enablejsapi: 1,\n          origin: 'http://localhost:3000'\n        }\n      }\n    };\n    this.changeSong = this.changeSong.bind(this);\n    this._onPlay = this._onPlay.bind(this);\n  }\n\n  componentDidMount() {\n    setTimeout(() => this.setState({\n      class_parent: 'fullvh'\n    }), 100);\n  }\n\n  changeSong(video) {\n    if (this.state.numberCount === 'Go') {\n      this.setState({\n        fakeDiv: 'fake-div-loading',\n        numberCount: 'Loading',\n        videoId: video,\n        classCount: 'loading'\n      });\n    }\n  }\n\n  _onReady(event) {\n    // access to player in all event handlers via event.target\n    event.target.setVolume(100);\n  }\n\n  _onPlay() {\n    console.log('playing');\n    this.setState({\n      fakeDiv: 'fake-div-playing',\n      numberCount: 30,\n      isPlaying: true,\n      classCount: 'playing'\n    });\n    this.timerID = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID); // jsp vraiment mais apparemment faut le garder dans l'exemple de l'horloge que j'ai cannibalisé\n  }\n\n  tick() {\n    this.state.isPlaying // si le props startCount défini dans Game.js...\n    ? this.state.numberCount <= 1 || this.state.numberCount === 'https://media.giphy.com/media/j5WNDiz8VRwhSWr3oW/source.gif' // true : si le state number est inférieur ou égal à 0...\n    ? this.setState({\n      numberCount: 'https://media.giphy.com/media/j5WNDiz8VRwhSWr3oW/source.gif'\n    }) // true : ne pas toucher\n    : this.setState({\n      numberCount: this.state.numberCount - 1\n    }) // false : nombre - 1\n    : this.setState({\n      numberCount: this.state.numberCount\n    }); // false : ne pas toucher\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: this.state.class_parent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"fake-div-parent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: this.state.fakeDiv,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(CountDown, {\n      onClick: () => this.changeSong('OS6ioiNFmkk'),\n      className: this.state.classCount,\n      number: this.state.numberCount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"landscape-mode\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Answer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(SkipBtn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(ValidateBtn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"nick\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Nickname\"), React.createElement(Score, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(YouTube, {\n      className: \"yt-hidden\",\n      videoId: this.state.videoId,\n      opts: this.state.opts,\n      onReady: this._onReady,\n      onPlay: this._onPlay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/Users/macbookpro/Documents/React/bordeaux_p2_sept2019_SpotiWild/src/components/Game.js"],"names":["React","CountDown","YouTube","Score","SkipBtn","Answer","ValidateBtn","Title","Game","Component","constructor","props","state","class_parent","fakeDiv","numberCount","isPlaying","classCount","videoId","opts","playerVars","autoplay","start","enablejsapi","origin","changeSong","bind","_onPlay","componentDidMount","setTimeout","setState","video","_onReady","event","target","setVolume","console","log","timerID","setInterval","tick","componentWillUnmount","clearInterval","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport CountDown from './Game/CountDown';\nimport YouTube from 'react-youtube';\nimport Score from './Game/Score';\nimport SkipBtn from './Game/SkipBtn';\nimport Answer from './Game/Answer';\nimport ValidateBtn from './Game/ValidateBtn';\nimport './Game.css';\nimport Title from './Home/Title';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      class_parent: 'game-parent',\n      fakeDiv: 'fake-div',\n      numberCount: 'Go',\n      isPlaying: false,\n      classCount: 'default',\n      videoId: '',\n      opts: {\n        playerVars: {\n          autoplay: 1,\n          start: 0,\n          enablejsapi: 1,\n          origin: 'http://localhost:3000'\n        }\n      }\n    };\n    this.changeSong = this.changeSong.bind(this);\n    this._onPlay = this._onPlay.bind(this);\n  }\n\n  componentDidMount() {\n    setTimeout(() => this.setState({ class_parent: 'fullvh' }), 100);\n  }\n\n  changeSong(video) {\n    if (this.state.numberCount === 'Go') {\n      this.setState({\n        fakeDiv: 'fake-div-loading',\n        numberCount: 'Loading',\n        videoId: video,\n        classCount: 'loading'\n      });\n    }\n  }\n\n  _onReady(event) {\n    // access to player in all event handlers via event.target\n    event.target.setVolume(100);\n  }\n\n  _onPlay() {\n    console.log('playing');\n    this.setState({\n      fakeDiv: 'fake-div-playing',\n      numberCount: 30,\n      isPlaying: true,\n      classCount: 'playing'\n    });\n    this.timerID = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID); // jsp vraiment mais apparemment faut le garder dans l'exemple de l'horloge que j'ai cannibalisé\n  }\n\n  tick() {\n    this.state.isPlaying // si le props startCount défini dans Game.js...\n      ? this.state.numberCount <= 1 ||\n        this.state.numberCount === 'https://media.giphy.com/media/j5WNDiz8VRwhSWr3oW/source.gif' // true : si le state number est inférieur ou égal à 0...\n        ? this.setState({\n            numberCount: 'https://media.giphy.com/media/j5WNDiz8VRwhSWr3oW/source.gif'\n          }) // true : ne pas toucher\n        : this.setState({ numberCount: this.state.numberCount - 1 }) // false : nombre - 1\n      : this.setState({ numberCount: this.state.numberCount }); // false : ne pas toucher\n  }\n\n  render() {\n    return (\n      <div className={this.state.class_parent}>\n        <Title />\n        <div className=\"fake-div-parent\">\n          {/*fake divs importantes pour l'anim du loading*/}\n          <div className={this.state.fakeDiv}></div>\n          <CountDown\n            onClick={() => this.changeSong('OS6ioiNFmkk')}\n            className={this.state.classCount}\n            number={this.state.numberCount}\n          />\n        </div>\n        <div className=\"landscape-mode\">\n          <Answer />\n          <div className=\"row\">\n            <SkipBtn />\n            <ValidateBtn />\n          </div>\n          <p className=\"nick\">Nickname</p>\n          <Score />\n        </div>\n        <YouTube\n          className=\"yt-hidden\"\n          videoId={this.state.videoId}\n          opts={this.state.opts}\n          onReady={this._onReady}\n          onPlay={this._onPlay}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Game;\n"]},"metadata":{},"sourceType":"module"}